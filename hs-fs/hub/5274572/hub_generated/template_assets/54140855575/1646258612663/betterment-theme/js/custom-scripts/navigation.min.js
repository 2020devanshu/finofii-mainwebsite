(()=>{"use strict";var e=document.querySelectorAll(".menu-item > a"),t=document.querySelectorAll(".menu-item_depth-1"),i=document.querySelector(".bt-Nav-triggerCta"),n=document.querySelector("body"),s=1075;function o(e){window.outerWidth>=s&&(e.closest(".menu-item_depth-1").classList.contains("menu-item-has-children--open")?(e.closest(".menu-item_depth-1").classList.remove("menu-item-has-children--open"),e.setAttribute("aria-expanded",!1)):(e.closest(".menu-item_depth-1").classList.add("menu-item-has-children--open"),e.setAttribute("aria-expanded",!0)))}function c(e){if(1==n.classList.contains("is-mobile"))n.classList.remove("is-mobile"),(t=e.querySelector("svg")).ariaLabel="Open Menu",t.querySelector("title").innerHTML="Open Menu";else if(0==n.classList.contains("is-mobile")){var t;n.classList.add("is-mobile"),(t=e.querySelector("svg")).ariaLabel="Close Menu",t.querySelector("title").innerHTML="Close Menu"}}function a(e){if(window.outerWidth<s){var t=e.closest("li");e.classList.contains("is-open")?(t.classList.add("menu-item-has-children--open"),e.setAttribute("aria-expanded",!0),t.closest(".menu").querySelectorAll(".menu-item_depth-1:not(.menu-item-has-children--open)").forEach((function(e){e.querySelector("a").classList.remove("is-open")}))):(t.classList.remove("menu-item-has-children--open"),e.setAttribute("aria-expanded",!1))}}document.querySelector(".bt-Nav").addEventListener("click",(function(e){e.stopPropagation()})),window.outerWidth>=s&&document.body.addEventListener("click",(function(){n.classList.contains("is-mobile")&&n.classList.remove("is-mobile"),document.querySelectorAll(".menu-item_depth-1.menu-item-has-children").forEach((function(e){e.classList.remove("menu-item-has-children--open"),e.querySelector("a").setAttribute("aria-expanded",!1)}))})),e.forEach((function(e,i,n){e.onkeyup=function(i){"Space"==i.code&&i.preventDefault(),"Enter"!=i.key&&"Space"!=i.code||o(e),"Tab"==i.key&&window.outerWidth>=s&&(e.closest("li").classList.contains("menu-item_depth-2")||t.forEach((function(e,i){var n=t[i].querySelector("a");n.closest(".menu-item_depth-1").classList.contains("menu-item-has-children")&&n.setAttribute("aria-expanded",!1),t[i].classList.remove("menu-item-has-children--open")})))},e.addEventListener("click",(function(t){t.stopPropagation(),e.closest(".menu").querySelectorAll(".menu-item_depth-1").forEach((function(e){e.classList.remove("menu-item-has-children--open"),e.querySelector("a").setAttribute("aria-expanded",!1)})),o(e)})),e.closest(".menu-item_depth-1").onmouseleave=function(e){window.outerWidth>=s&&e.target.closest(".menu-item_depth-1").classList.contains("menu-item-has-children--open")&&(e.target.classList.remove("menu-item-has-children--open"),e.target.querySelector("a").setAttribute("aria-expanded",!1))}})),i.addEventListener("click",(function(e){c(this)})),i.addEventListener("keypress",(function(e){"Space"==e.code?(e.preventDefault(),c(this)):"Enter"==e.key&&c(this)})),document.querySelectorAll(".menu-item_depth-1 > a").forEach((function(e){e.addEventListener("click",(function(e){this.classList.toggle("is-open"),a(this)})),e.addEventListener("keypress",(function(e){"Space"==e.code?(e.preventDefault(),this.classList.toggle("is-open"),a(this)):"Enter"==e.code&&(this.classList.toggle("is-open"),a(this))}))}));var r=!1;window.addEventListener("resize",(function(){window.innerWidth>=s&!r?(r=!0,document.body.classList.remove("is-mobile"),document.querySelectorAll(".bt-Nav .menu-item_depth-1 > a").forEach((function(e){var t=e.closest("li");t.classList.contains("menu-item-has-children--open")&&(t.classList.remove("menu-item-has-children--open"),e.setAttribute("aria-expanded",!1))}))):window.innerWidth<s&r&&(r=!1)}))})();
//# sourceURL=https://cdn2.hubspot.net/hub/5274572/hub_generated/template_assets/54140855575/1646258612663/betterment-theme/js/custom-scripts/navigation.js